{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended",
    ":pinDependencies",
    ":enablePreCommit",
    ":semanticCommits",
    ":automergeDigest",
    ":automergeBranch",
    ":disableRateLimiting",
    ":dependencyDashboard",
    "helpers:pinGitHubActionDigests"
  ],
  "customManagers": [
    {
      "customType": "regex",
      "description": "Update Debian/Ubuntu apt package versions in Dockerfile ARG statements",
      "fileMatch": ["^Dockerfile$"],
      "matchStrings": [
        "#\\s*renovate:\\s*suite=(?<suite>\\S+)\\s+depName=(?<depName>\\S+)\\s*\\nARG\\s+[A-Z0-9_]+=\"(?<currentValue>[^\"]+)\""
      ],
      "datasourceTemplate": "deb",
      "registryUrlTemplate": "https://archive.ubuntu.com/ubuntu?suite={{suite}}&components=main,universe,multiverse,restricted&binaryArch=amd64"
    },
    {
      "customType": "regex",
      "description": "Track GloriousEggroll Proton-GE releases in start_server script",
      "fileMatch": ["^root/usr/bin/start_server$"],
      "matchStrings": [
        "PROTON_VERSION=\"(?<currentValue>\\d+-\\d+)\""
      ],
      "datasourceTemplate": "github-releases",
      "depNameTemplate": "GloriousEggroll/proton-ge-custom",
      "extractVersionTemplate": "^GE-Proton(?<version>.+)$"
    }
  ]
}
